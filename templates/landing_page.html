{% extends 'base.html'  %}
{% load static %}

{% block body_classes %}
h-screen flex flex-col justify-between
{% endblock %}
{% block body %}
<img src="{% static '/images/LDT_Landing_compressed.png' %}" class="w-64 grow-0 mx-auto">
<div 
    class="blurb-slider"
    x-data="$store.slides2"
>
    <template x-for="slide in $store.slides2" :key="slide.number">
        <div class="blurb-slide">
            <p class="text-amber-400 font-caveat w-5/6 mx-auto mt-4 
            grow-1 leading-6 text-xl" x-text="slide.quote"></p>
            <p class="font-caveat w-5/6 mx-auto mt-4 text-xl" x-text="slide.attribution"></p>
        </div>
    </template>
</div>
<button class="color-white w-5/6 mx-auto mt-4 mb-4">Find Out More</button>
<p>.</p>
{% endblock body %}
{% block additional_js %}
<script>
    document.addEventListener('alpine:init', () => {
        Alpine.store('slides', [
            {
                'number': 1,
                'quote': "one's",
                'attribution': 'an attribution'
            },
            {
                'number': 2,
                'quote': 'two',
                'attribution': 'an attribution'
            }
        ]);
    })
</script>
<script>
    document.addEventListener('alpine:init', () => {
        Alpine.store('slides2', [
        {% for blurb in data.book.fields.blurbs %}
            {
                'number': {{ forloop.counter }},
                'quote': "{{ blurb.short_blurb|safe }}",
                'attribution': "{{ blurb.attribution_name|safe }}, {{ blurb.attribution_description }}"
            }{% if not forloop.last %},{% endif %}
        {% endfor %}
        ]);
    })
</script>
{% endblock additional_js %}